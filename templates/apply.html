<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
</head>

<body>
    <div class="container">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %}
        <h2>Add Artist</h2>
        <form action="/application" method="post" enctype="multipart/form-data">
            <label>Name:</label>
            <input type="text" name="name" value="kakdsa" required>

            <label>Category:</label>
            <select name="category" required>
                <option value="Costume Designer">Costume Designer</option>
                <option value="Event Artist">Event Artist</option>
                <option value="Mehendi Artist">Mehendi Artist</option>
                <option value="Hair Stylist">Hair Stylist</option>
            </select>

            <label>About:</label>
            <textarea value="abouts" name="about" class="txt-area" required></textarea>

            <label>Area Address:</label>
            <input value="addresses" type="text" name="area" required>

            <label for="state">State:</label>
            <select id="state" name="state" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 16px; margin-top: 5px; margin-bottom: 10px;">
                <option value="" disabled selected>Select a state</option>
                <option value="tamilnadu">Tamil Nadu</option>
                <option value="kerala">Kerala</option>
                <option value="karnataka">Karnataka</option>
            </select>

            <label for="district">District:</label>
            <select id="district" name="district" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 16px; margin-top: 5px; margin-bottom: 10px;">
                <option value="" disabled selected>Select a district</option>
            </select>

            <label>Phone Number:</label>
            <input type="number" name="phone" value="123456" required>

            <label>WhatsApp Number:</label>
            <input type="number" value="123456" name="whatsapp">

            <label>Email :</label>
            <input type="email" name="email" value="ab@gmail.com" required>

            <label>Pincode:</label>
            <input type="number" value="123456" name="pincode">

            <label>Marriage Type:</label>
            <select name="marriage_type" required>
                <option value="Hindu">Hindu</option>
                <option value="Muslim">Muslim</option>
                <option value="Christian">Christian</option>
            </select>

            <label>Work Per Hour in Rupees</label>
            <input type="number" name="cost" value="1234567" required>

            <label>Upload Image:</label>
            <input type="file" name="image" required>

            <button type="submit">Apply</button>
        </form>
    </div>

    <script>
        const stateSelect = document.getElementById('state');
        const districtSelect = document.getElementById('district');

        const districts = {
            tamilnadu: [
                "Ariyalur", "Chengalpattu", "Chennai", "Coimbatore", "Cuddalore", "Dharmapuri", "Dindigul", "Erode",
                "Kallakurichi", "Kanchipuram", "Kanniyakumari", "Karur", "Krishnagiri", "Madurai", "Mayiladuthurai",
                "Nagapattinam", "Namakkal", "Nilgiris", "Perambalur", "Pudukkottai", "Ramanathapuram", "Ranipet",
                "Salem", "Sivaganga", "Tenkasi", "Thanjavur", "Theni", "Thiruvallur", "Thiruvarur", "Thoothukudi",
                "Tiruchirappalli", "Tirunelveli", "Tirupathur", "Tiruppur", "Tiruvannamalai", "Vellore", "Viluppuram",
                "Virudhunagar"
            ],
            kerala: [
                "Alappuzha", "Ernakulam", "Idukki", "Kannur", "Kasaragod", "Kollam", "Kottayam", "Kozhikode",
                "Malappuram", "Palakkad", "Pathanamthitta", "Thiruvananthapuram", "Thrissur", "Wayanad"
            ],
            karnataka: [
                "Bagalkot", "Ballari", "Belagavi", "Bengaluru Rural", "Bengaluru Urban", "Bidar", "Chamarajanagar",
                "Chikballapur", "Chikkamagaluru", "Chitradurga", "Dakshina Kannada", "Davanagere", "Gadag", "Hassan",
                "Haveri", "Kalaburagi", "Kodagu", "Kolar", "Koppal", "Mandya", "Mysuru", "Raichur", "Ramanagara",
                "Shivamogga", "Tumakuru", "Udupi", "Uttara Kannada", "Vijayapura", "Yadgir"
            ]
        };

        function populateDistricts(state) {
            districtSelect.innerHTML = '<option value="" disabled selected>Select a district</option>';

            if (districts[state]) {
                districts[state].forEach(district => {
                    const option = document.createElement("option");
                    option.value = district;
                    option.textContent = district;
                    districtSelect.appendChild(option);
                });
            }
        }

        stateSelect.addEventListener('change', function() {
            populateDistricts(this.value);
        });

        if(stateSelect.value){
           populateDistricts(stateSelect.value);
        }
    </script>
</body>

</html>